<krpano version="1.20.9">
	<!-- <events name="hotspots_visibility" keep="true" onviewchanged="adapt_hortspots_visiblity();"/>
	<action name="adapt_hortspots_visiblity">
		for(set(i,0), i LT hotspot.count, inc(i),getlooktodistance(d, hotspot[get(i)].ath, hotspot[get(i)].atv);
				if(d LT 30,showhotspot(get(i) );,fadehotspot(get(i), 0.5, 0.5););
			 );
	</action>

	<action name="showhotspot">
		if(hotspot[%1].ishighlighted != true,set(hotspot[%1].isvisible, true);tween(hotspot[%1].alpha, 1, 1);js( showfun( get(hotspot[%1].name)) );;);
	</action>

	<action name="fadehotspot">
		set(hotspot[%1].isvisible, false);tween(hotspot[%1].alpha, 0.1, 0.5);js( hidefun( get(hotspot[%1].name)) );
	</action> -->
		<plugin name="hotspot_pos_info"
						type="text"
						html="drag the hotspots..."
						css="font-family:Courier;"
						padding="8"
						align="lefttop" x="10" y="10"
						width="200"
						enabled="false"
						/>
		<action name="draghotspot">
			spheretoscreen(ath, atv, hotspotcenterx, hotspotcentery, calc(mouse.stagex LT stagewidth/2 ? 'l' : 'r'));
			sub(drag_adjustx, mouse.stagex, hotspotcenterx);
			sub(drag_adjusty, mouse.stagey, hotspotcentery);
			asyncloop(pressed,
				sub(dx, mouse.stagex, drag_adjustx);
				sub(dy, mouse.stagey, drag_adjusty);
				screentosphere(dx, dy, ath, atv);
				print_hotspot_pos();
			  );
		</action>
		<action name="print_hotspot_pos"><![CDATA[
			copy(print_ath, ath);
			copy(print_atv, atv);
			roundval(print_ath, 3);
			roundval(print_atv, 3);
			calc(plugin[hotspot_pos_info].html, '&lt;hotspot name="' + name + '"[br]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...[br]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ath="' + print_ath + '"[br]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;atv="' + print_atv + '"[br]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...[br]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/&gt;');
		]]></action>
		<action name="arrow_click">
			if(linkedscene,
		if(linkedscene_lookat,
			txtsplit(linkedscene_lookat, ',', hs_lookat_h, hs_lookat_v, hs_lookat_fov);
			);
		set(enabled, false);
		skin_hidetooltips();
		tween(depth|alpha|oy|rx, 4000|0.0|-50|-60, 0.5, default,
			loadscene(get(linkedscene), get(skin_settings.loadscene_blend));
			if(hs_lookat_h !== null,
				skin_lookat(get(hs_lookat_h), get(hs_lookat_v), get(hs_lookat_fov));
				delete(hs_lookat_h, hs_lookat_v, hs_lookat_fov);
				);
			skin_updatescroll();
			);
		);
		</action>
		
</krpano>
